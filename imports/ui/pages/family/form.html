<template name="familyForm">
    {{#autoForm schema=schema doc=doc id="familyForm"   type=formType meteormethod=formMethod
                resetOnSuccess=resetOnSuccess}}


        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
            {{#accordionPanel title="Parents" id="parents"}}
                {{>afQuickField name="parents" minCount=1 initialCount=2 omitFields=omitFields}}
                {{>buttonSubmit new=new edit=edit}}
            {{/accordionPanel}}

            {{#accordionPanel title="Address"  id="contact"}}

                {{>afQuickField name="contact.homePhone" template="bootstrap3" }}
                <div class="{{#if afFieldIsInvalid name='contact.address.street'}} has-error{{/if}}
                    {{#if afFieldIsInvalid name='contact.address.city'}} has-error{{/if}}
                    {{#if afFieldIsInvalid name='contact.address.state'}} has-error{{/if}}
                    {{#if afFieldIsInvalid name='contact.address.zip'}} has-error{{/if}}">
                    {{>afQuickField name="contact.address" }}
                    {{#if afFieldIsInvalid name='contact.address.street'}}
                        <span class="help-block">{{afFieldMessage name='contact.address.street'}}</span>
                    {{/if}}
                    {{#if afFieldIsInvalid name='contact.address.city'}}
                        <span class="help-block">{{afFieldMessage name='contact.address.city'}}</span>
                    {{/if}}
                    {{#if afFieldIsInvalid name='contact.address.state'}}
                        <span class="help-block">{{afFieldMessage name='contact.address.state'}}</span>
                    {{/if}}

                    {{#if afFieldIsInvalid name='contact.address.zip'}}
                        <span class="help-block">{{afFieldMessage name='contact.address.zip'}}</span>
                    {{/if}}
                    {{>buttonSubmit new=new edit=edit}}
                </div>
            {{/accordionPanel}}
            {{#accordionPanel title="Children" id="children"}}
                {{>afQuickField name="children" minCount=1 initialCount=2  omitFields=omitFields}}
                {{>buttonSubmit new=new edit=edit}}

            {{/accordionPanel}}
            {{#accordionPanel title="Guests" id="guests"}}
                {{omitFields}}
                {{>afQuickField name="guests" minCount=1 initialCount=1  omitFields=omitFields}}
                {{>buttonSubmit new=new edit=edit}}

            {{/accordionPanel}}
            {{#accordionPanel title="Pets" id="pets"}}
                {{>afQuickField name="pets" minCount=1 initialCount=3 }}
                {{>buttonSubmit new=new edit=edit}}

            {{/accordionPanel}}
            {{#accordionPanel title="Bedrooms" id="bedrooms"}}
                {{>afQuickField name="bedrooms" minCount=1 initialCount=3 }}
                {{>buttonSubmit new=new edit=edit}}

            {{/accordionPanel}}
            {{#accordionPanel title="Bank Account" id="bank"}}
                {{>afQuickField name="bank"   }}
                {{>buttonSubmit new=new edit=edit}}

            {{/accordionPanel}}
            {{#accordionPanel title="Others Details" id="other"}}
                {{>afQuickField name="other"}}
                {{>buttonSubmit new=new edit=edit}}

            {{/accordionPanel}}

            {{#if isInRole 'admin,staff' }}
                {{#accordionPanel title="Photos" id="files"}}
                    {{>afQuickField name="files"}}
                    {{>buttonSubmit new=new edit=edit}}

                {{/accordionPanel}}
            {{/if}}


        </div>
    {{/autoForm}}
</template>


